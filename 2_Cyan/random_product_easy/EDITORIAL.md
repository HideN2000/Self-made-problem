動的計画法を行います

$dp[l][r]=s[l…r]$に限定した時の全分割に対する積の総和

と定義するとこれは$O(N^3)$で求められます

答えは明らかに$\frac{dp[0][n-1]}{2^{n-1}}$です