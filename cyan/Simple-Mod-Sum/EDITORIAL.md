・$ (X\bmod i) = X - i * floor(X,i) $

この関係式を使って$ans$の値を整理します。
	
$ans$
	
$= \sum_{i=1}^{Y} \{ X - i * floor(X,i) \}$

$    = XY - \sum_{i=1}^{Y} \{i * floor(X,i) \}$

です。

$floor(X,i)$の値は、$floor(\sqrt{X})$ より大きいものと、それ以下のもののグループに分けることができます。
	
前者に関しては、それを与える$i$の種類は高々$floor(\sqrt{X})$個ほどしかないため、$O(\sqrt{X})$で全探索することができます。
	後者に関しては、ある固定された自然数$k$に対し、$floor(X,i) = k$ となるような$i$について考えると、$i$は
    
$floor(X,k + 1) < i \leq floot(X,k)$
    
という連続した範囲で与えられることがわかります。

従って、それぞれの$k$に対して、$floor(X,i) * i$の合計値を$O(1)$で得られるため、
後者も$O(\sqrt{X})$で求められます。

以上より、$\sum_{i=1}^{Y} \{i * floor(X,i) \}$の値は$O(\sqrt{X})$で計算できるので、$ans$も$O(\sqrt{X})$で求めることができます。

C/C++などの言語を用いる際はオーバーフローに注意してください。
    